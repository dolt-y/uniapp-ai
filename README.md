# AI聊天助手小程序

这是一个基于uni-app开发的AI聊天助手小程序，提供智能对话交互功能。

## 功能特点

### 已实现功能

- 💬 **智能对话**：支持与AI助手进行实时对话
- 📝 **消息存储**：自动保存聊天记录到本地存储
- ⚡ **快捷回复**：提供常用问题快捷选项，提高交流效率
- 🎨 **美观界面**：现代化的UI设计，支持消息气泡、头像显示
- ⏰ **时间显示**：每条消息显示发送时间
- 🌙 **深色模式**：支持系统深色模式自动切换
- 📱 **响应式设计**：适配不同尺寸的设备

### 技术亮点

- **智能回复分类**：根据用户输入内容自动选择合适的回复类型
- **消息动画效果**：消息发送和接收时有平滑的动画效果
- **防重复发送**：AI回复时自动禁用发送按钮，防止重复提交
- **消息分页加载**：支持加载更多历史消息
- **输入框自动增高**：根据输入内容自动调整输入框高度
- **错误处理**：添加异常捕获，确保应用稳定运行

## 项目结构

```
├── src/
│   ├── App.vue              # 应用入口
│   ├── main.ts              # 主入口文件
│   ├── pages/
│   │   └── new/
│   │       └── index.vue    # AI聊天页面
│   ├── static/
│   │   └── arrow_bottom.png # 快捷回复图标
│   └── pages.json           # 页面配置文件
```

## 使用方法

### 环境要求

- Node.js 16.x 或更高版本（推荐）
- uni-app 开发环境

### 安装运行

1. 克隆项目后安装依赖：

```bash
npm install
```

2. 运行开发服务器：

```bash
# 微信小程序开发
npm run dev

# H5版本开发
npm run dev:h5
```

3. 构建生产版本：

```bash
# 构建微信小程序
npm run build:mp-weixin

# 构建H5版本
npm run build:h5
```

## 功能使用指南

### 基本聊天
1. 在输入框中输入您的问题
2. 点击发送按钮或按回车键发送消息
3. AI助手会自动回复您的问题

### 快捷回复
1. 点击输入框右侧的向下箭头图标
2. 选择预设的快捷问题
3. AI助手会直接回复所选问题

### 消息管理
- 聊天记录会自动保存到本地
- 页面会自动加载历史消息
- 支持上下滚动查看更多消息

## 自定义配置

### 修改AI回复内容

在 `src/pages/new/index.vue` 文件中，可以修改 `mockResponses` 对象来自定义AI回复内容：

```typescript
// 模拟AI回复库 - 分类回复，更加智能
const mockResponses = {
  default: [
    '感谢您的提问！让我为您详细解答...',
    // 可以添加更多默认回复
  ],
  weather: [
    // 天气相关回复
  ],
  // 可以添加更多分类
}
```

### 修改快捷回复选项

在 `src/pages/new/index.vue` 文件中，可以修改 `quickReplies` 数组来自定义快捷回复选项：

```typescript
// 快捷回复选项
const quickReplies = ref<string[]>([
  '你能帮我做什么？',
  // 可以添加更多快捷回复
]);
```
### 后端项目地址

https://github.com/dolt-y/uniapp-ai-server

### 2025.11.27 重构

1. 目前小程序对流式数据处理不兼容，并且rich-text渲染markdown文本存在问题，样式无法处理。因此考虑H5版本的实现。

## 未来优化方向

1. 集成真实的AI API（如OpenAI、百度文心一言等）
2. 添加消息撤回功能
3. 支持图片、语音等多媒体消息
4. 实现用户个性化设置
5. 添加多轮对话记忆功能
6. 优化消息加载性能

## 许可证

MIT